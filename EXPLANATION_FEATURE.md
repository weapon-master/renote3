# 文本解释功能

## 功能概述

在阅读器中，用户现在可以选择文本并使用AI生成解释。当用户接受解释后，系统会自动创建一个带有薄荷绿色标记的笔记。

## 使用方法

1. **选择文本**: 在EPUB阅读器中用鼠标选择想要解释的文本
2. **点击解释按钮**: 在出现的工具栏中点击"解释"按钮
3. **查看AI解释**: 系统会显示一个弹窗，展示AI生成的解释内容
4. **操作选项**:
   - **接受并创建笔记**: 接受解释并创建一个薄荷绿色的笔记
   - **拒绝**: 关闭弹窗，不创建笔记
   - **重新生成**: 让AI重新生成解释内容

## 技术实现

### 组件结构

- `ExplanationPopup.tsx`: 解释弹窗组件
- `ExplanationPopup.css`: 弹窗样式文件

### 主要功能

1. **AI解释生成**: 使用DeepSeek模型生成文本解释
2. **笔记创建**: 自动创建带有特定颜色的笔记
3. **用户交互**: 提供接受、拒绝、重新生成等操作

### 文件修改

- `src/main.ts`: 添加了`explain-text` IPC处理器
- `src/preload.ts`: 添加了`explainText` API
- `src/types/index.ts`: 更新了类型定义
- `src/pages/Reader/components/EpubReader.tsx`: 集成了解释功能

### 颜色设置

解释笔记使用薄荷绿色 (`AnnotationColor.MintGreen`)，便于用户识别。

## 注意事项

- 需要确保DeepSeek API配置正确
- 解释生成可能需要几秒钟时间
- 网络连接不稳定时可能会影响解释生成
