# 书籍描述生成功能

## 功能概述

当打开一本没有描述信息的书籍时，系统会自动检测并提示用户选择章节来生成书籍描述。

## 工作流程

1. **检测缺失描述**: 当打开书籍时，系统检查 `description` 字段是否为空
2. **显示章节选择器**: 如果没有描述，弹出章节选择对话框
3. **用户选择章节**: 用户从书籍的章节列表中选择一个章节（建议选择前言、序言或第一章）
4. **生成描述**: 系统提取选中章节的文本内容，使用AI生成书籍描述
5. **确认描述**: 显示生成的描述，用户可以选择接受或重新生成
6. **保存描述**: 如果用户接受，描述将保存到数据库

## 技术实现

### 前端组件

- `ChapterSelector.tsx`: 章节选择弹窗组件
- `DescriptionConfirm.tsx`: 描述确认弹窗组件

### 后端API

- `summarizeBook`: LLM工具函数，用于生成书籍摘要
- IPC通道: `summarize-book` 用于前后端通信

### 数据库

- 使用现有的 `Book` 表的 `description` 字段存储生成的描述

## 使用方法

1. 打开任何没有描述信息的书籍
2. 系统会自动弹出章节选择对话框
3. 选择一个合适的章节（建议选择包含书籍介绍内容的章节）
4. 等待AI生成描述
5. 查看生成的描述，选择接受或重新生成
6. 如果接受，描述将保存到书籍信息中

## 注意事项

- 生成的描述限制在100字以内
- 建议选择前言、序言或第一章等包含书籍介绍内容的章节
- 如果生成失败，可以重新选择章节尝试
- 描述一旦保存，将不再自动弹出生成对话框
