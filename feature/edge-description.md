# 边缘描述标签功能

## 功能概述

当用户在笔记流程中双击边缘时，可以输入文本作为该边缘的描述标签，并显示在边缘上。

## 功能特性

1. **双击编辑**: 双击边缘标签可以进入编辑模式
2. **实时保存**: 输入完成后自动保存到数据库
3. **键盘支持**: 
   - 按 `Enter` 键保存
   - 按 `Escape` 键取消编辑
4. **视觉反馈**: 编辑时有高亮边框和焦点效果
5. **占位符文本**: 空标签显示"双击编辑"提示

## 技术实现

### 组件结构

- `NoteEdge.tsx`: 自定义边缘组件，处理双击编辑逻辑
- `NoteEdge.css`: 边缘标签的样式定义
- `NoteFlow.tsx`: 主流程组件，处理边缘创建和更新

### 数据流程

1. 用户双击边缘标签
2. 触发编辑模式，显示输入框
3. 用户输入描述文本
4. 触发自定义事件 `edge-description-update`
5. `NoteFlow` 组件监听事件并更新数据库
6. 更新本地边缘状态以显示新描述

### 数据库更新

边缘描述保存在 `note_connections` 表的 `description` 字段中，通过 `updateConnection` 函数进行更新。

## 使用方法

1. 在笔记流程中创建边缘连接
2. 双击边缘上的标签
3. 输入描述文本
4. 按 `Enter` 键或点击其他地方保存

## 样式定制

可以通过修改 `NoteEdge.css` 文件来自定义边缘标签的外观：

- `.note-edge-label`: 标签容器样式
- `.note-edge-label:hover`: 悬停效果
- `.note-edge-label.editing`: 编辑状态样式
- `.note-edge-input`: 输入框样式
- `.note-edge-text`: 文本样式
